<!DOCTYPE html>
<html>
   <head>
       <title>Order Progress</title>
        <link rel="stylesheet" href="stylesheet.css">
        <link href="https://fonts.googleapis.com/css?family=Montserrat:100,200,300,400,600,800" rel="stylesheet">
   </head>

    <body onload="completeOrder()">
        <button class="toMenu">
        <img src="./assets/to-menu.png" alt="">
        </button>

        <img class="topRightLogo" src="./assets/logo.png" alt="food locker logo">

        <div class="detailsTitle">Order Details</div>

        <div class="bottomContainer">

            <div id="confirmedText">Order Confirming...</div>

            <div class="progressBar">
                <div id="progressFill"></div>
                <img src="./assets/order-processing.png" id="processing" alt="">
                <img src="./assets/order-preparing.png" id="preparing" alt="">
                <img src="./assets/order-ready.png" id="ready" alt="">
                </div>

            <div class="orderContainer">
                <table>
                    <thead>
                        <td>Item</td>
                        <td>Price</td>
                    </thead>
                    <tbody id="tableBody">
                        <tr>
                            <td><span>1</span>x Truffle Burger</td>
                            <td>$10.50</td>
                        </tr>
                    </tbody>
                </table>

                <hr color="black">
                <span class="totalText">Total: $10.50</span>

                <div class="pickupInfoContainer">
                    <div class="lockerNumContainer">
                        <p>Locker Number: <span id="lockerPinText">7</span></p>
                        <p>Order Pin: <span id="lockerPinText">1922</span></p>
                    </div>
                </div>

            </div>
        </div>
        <script>
        let timeout;
        var i = 0;

        function completeOrder() {
            timeout = setTimeout(load, 1500);
        }

        function load() {
            if (i === 0) {
                i = 1;
                var elem = document.getElementById('progressFill');
                var progressText = document.getElementById('confirmedText');
                var width = 1;
                var id = setInterval(frame, 10);
            }
                function frame() {
                    if (width >= 93) {
                        document.getElementById('ready').src="./assets/order-ready1.png";
                        progressText.textContent = "Order Ready For Pick-Up!";
                        clearInterval(id);
                        i = 1;
                    } else {
                        if (elem.style.width == "46%") {
                            document.getElementById('preparing').src="./assets/order-preparing1.png";
                            progressText.textContent = "Order Preparing...";
                            width++;
                            elem.style.width = width + "%";
                        } else {
                        width += 0.2;
                        elem.style.width = width + "%";
                        }
                    }
                }
        }
        </script>
    </body>
</html>
